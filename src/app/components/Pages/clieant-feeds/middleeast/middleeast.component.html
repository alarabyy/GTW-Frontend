<!-- عرض تفاصيل الخبر -->
<div *ngIf="selectedFeed; else feedListTpl">
  <app-news-details 
    [feed]="selectedFeed" 
    [goBack]="goBack.bind(this)">
  </app-news-details>
</div>

<!-- قائمة الأخبار -->
<ng-template #feedListTpl>
  <div class="feeds-container" *ngIf="feeds.length > 0; else loadingTpl">
<h2 class="section-title">🕌 Middle East News</h2>

    <div class="feed-cards">
      <ng-container *ngFor="let feed of paginatedFeeds">
        <div class="feed-card" (click)="openDetails(feed)">
          <div class="animated-bg"></div>
          <img [src]="feed.ImageUrl || feed.imageUrl || 'assets/placeholder.png'" 
               alt="{{ feed.Title || feed.title }}" class="feed-img" />
          <div class="feed-content">
            <div class="source-info">{{ feed.SourceName || feed.sourceName || 'Unknown Source' }}</div>
            <h3>{{ feed.Title || feed.title || 'No Title' }}</h3>
<p class="time">
  🕓 {{ feed.PublishedAt || feed.publishedAt || feed.pubDate ? (feed.PublishedAt || feed.publishedAt || feed.pubDate | date:'medium') : 'No Date' }}
</p>
            <p class="description">{{ feed.Summary || feed.summary || 'No Summary available.' }}</p>
                  <button class="details-btn" (click)="openDetails(feed)">📖 View Details</button>

          </div>
        </div>
      </ng-container>
    </div>

    <!-- Pagination -->
    <div class="pagination">
      <button *ngFor="let page of totalPages" (click)="changePage(page)" [class.active]="page === currentPage">
        {{ page }}
      </button>
    </div>
  </div>
</ng-template>

<ng-template #loadingTpl>
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading feeds...</p>
  </div>
</ng-template>
